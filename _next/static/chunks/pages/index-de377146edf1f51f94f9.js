(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{81580:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return A}});var a=t(10914),i=t(62520),r=t(30950),s=t(83929),o=t(67294),u=t(34155),p=new r._k({supportedChainIds:[1,3,4,5,42,56,88,89,97,137,1337,80001]}),l={1:u.env.NEXT_PUBLIC_RPC_URL_1,3:u.env.NEXT_PUBLIC_RPC_URL_3,4:u.env.NEXT_PUBLIC_RPC_URL_4,1337:"http://127.0.0.1:8545/"},d=new s.zw({rpc:l,qrcode:!0}),c=t(2043),y=t.n(c),m={warn:y().warn,debug:y().debug,info:y().info,error:y().error,trace:y().trace,setLevel:y().setLevel};var f=t(85893);function h(){var e=(0,a.Ge)().account;return(0,f.jsxs)("div",{className:"btn btn-ghost btn-sm rounded-btn",children:[(0,f.jsx)("span",{children:"Account"}),(0,f.jsx)("span",{role:"img","aria-label":"robot",children:"\ud83e\udd16"}),(0,f.jsx)("span",{children:null===e?"-":e?"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)):""})]})}var b=t(77616);function v(){var e=(0,a.Ge)(),n=e.account,t=e.library,i=e.chainId,r=(0,o.useState)(),s=r[0],u=r[1];return(0,o.useEffect)((function(){if(n&&t){var e=!1;return t.getBalance(n).then((function(n){e||u(n)})).catch((function(){e||u(null)})),function(){e=!0,u(void 0)}}return function(){m.warn("Balance component not initialized")}}),[n,t,i]),(0,f.jsxs)("div",{className:"btn btn-ghost btn-sm rounded-btn",children:[(0,f.jsx)("span",{children:"Balance"}),(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 hover:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),(0,f.jsx)("span",{children:null===s?"Error":s?"\u039e".concat((0,b.dF)(s)):""})]})}function x(){var e=(0,a.Ge)().chainId;return(0,f.jsxs)("div",{className:"btn btn-ghost btn-sm rounded-btn",children:[(0,f.jsx)("span",{children:"Chain Id"}),(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 hover:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),(0,f.jsx)("span",{children:null!==e&&void 0!==e?e:""})]})}function g(){var e=(0,a.Ge)(),n=e.active,t=e.error;return(0,f.jsxs)("div",{className:"mb-2 shadow-lg navbar bg-neutral text-neutral-content rounded-box",children:[(0,f.jsx)("div",{className:"flex-1 px-2 mx-2",children:(0,f.jsx)("span",{className:"text-lg font-bold",children:n?"\ud83d\udfe2":t?"\ud83d\udd34":"\ud83d\udfe0"})}),(0,f.jsx)("div",{className:"flex-none hidden px-2 mx-2 lg:flex",children:(0,f.jsxs)("div",{className:"flex items-stretch",children:[(0,f.jsx)(x,{}),(0,f.jsx)(h,{}),(0,f.jsx)(v,{})]})})]})}var w=t(3283),T=t.n(w),k="0xdB5BbC4637Af3a9942cf9ca8a28017f375c8A898",j=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"newColor",type:"string"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"colorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"newLink",type:"string"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"linkChanged",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"newColor",type:"string"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"changeColor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string[]",name:"newStats",type:"string[]"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"changeColorPack",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newLink",type:"string"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"changeLink",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllColors",outputs:[{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllLinks",outputs:[{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getColor",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLink",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxAmountOfPixel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"}],name:"mintNFT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricePerMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"tokensOfOwnerBySize",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalColors",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"recipient",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],C=function(e,n,t){return function(a){var i=prompt("What color ?");e.methods.changeColor(i,t).send({from:n})}};function M(e){var n=(0,a.Ge)(),t=n.account,i=n.library,r=(0,o.useState)(e.index),s=r[0];r[1];if(i){var u=new(new(T())(i.provider).eth.Contract)(j,k);console.log(e.index),console.log(s);return(0,f.jsx)("button",{className:"grid-square",style:{backgroundColor:e.color},onClick:C(u,t,s)})}return(0,f.jsx)("p",{children:"Connect to metamask"})}var N=function(){var e=(0,a.Ge)(),n=(e.account,e.library),t=(0,o.useState)([]),i=t[0],r=t[1];return(0,o.useEffect)((function(){n&&new(new(T())(n.provider).eth.Contract)(j,k).methods.getAllColors().call().then((function(e){console.log(e);for(var n=[],t=0,a=0;a<25;a++){n.push([]);for(var i=0;i<25&&(n[a].push((0,f.jsx)(M,{index:t,color:"#".concat(e[t])},"".concat(i).concat(a))),!(++t>=e.length));i++);if(t>=e.length)break}r(n)}))}),[n]),(0,f.jsxs)("div",{className:"App",children:[(0,f.jsx)("button",{}),(0,f.jsx)("div",{className:"grid-board justify-center",children:i})]})};function I(e){return e instanceof r.A5?"No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.":e instanceof a.Uu?"You're connected to an unsupported network.":e instanceof r.ab||e instanceof s.ab?"Please authorize this website to access your Ethereum account.":(m.error(e),"An unknown error occurred. Check the console for more details.")}function _(e){var n=new i.Q(e);return n.pollingInterval=12e3,n}function L(){var e=(0,a.Ge)(),n=e.connector,t=e.library,i=e.account,r=e.activate,s=e.deactivate,u=e.active,l=e.error,c=(0,o.useState)(),y=c[0],h=c[1];(0,o.useEffect)((function(){y&&y===n&&h(void 0)}),[y,n]);var b=function(){var e=(0,a.Ge)(),n=e.activate,t=e.active,i=(0,o.useState)(!1),r=i[0],s=i[1];return(0,o.useEffect)((function(){p.isAuthorized().then((function(e){e?n(p,void 0,!0).catch((function(){s(!0)})):s(!0)}))}),[]),(0,o.useEffect)((function(){!r&&t&&s(!0)}),[r,t]),r}();!function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,a.Ge)(),t=n.active,i=n.error,r=n.activate;(0,o.useEffect)((function(){var n=window.ethereum;if(n&&n.on&&!t&&!i&&!e){var a=function(){m.warn("Handling 'connect' event"),r(p)},s=function(e){m.warn("Handling 'chainChanged' event with payload",e),r(p)},o=function(e){m.warn("Handling 'accountsChanged' event with payload",e),e.length>0&&r(p)},u=function(e){m.warn("Handling 'networkChanged' event with payload",e),r(p)};return n.on("connect",a),n.on("chainChanged",s),n.on("accountsChanged",o),n.on("networkChanged",u),function(){n.removeListener&&(n.removeListener("connect",a),n.removeListener("chainChanged",s),n.removeListener("accountsChanged",o),n.removeListener("networkChanged",u))}}}),[t,i,e,r])}(!b||!!y);var v,x=function(e){return e===n},w=!b||!!y||x(p)||x(d)||!!l;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(g,{}),(0,f.jsx)("div",{children:!!l&&(0,f.jsx)("h4",{style:{marginTop:"1rem",marginBottom:"0"},children:I(l)})}),(0,f.jsx)("div",{className:"grid grid-col px-2 py-2 text-center",children:(0,f.jsxs)("div",{className:"card bordered",children:[(0,f.jsx)("figure",{children:(0,f.jsx)("img",{className:"h-10",src:"https://metamask.io/images/mm-logo.svg",alt:"metamask"})}),(0,f.jsxs)("div",{className:"card-body",children:[(0,f.jsx)("h2",{className:"card-title",children:(0,f.jsx)("a",{className:"link link-hover",href:"https://metamask.io/",target:"_blank",rel:"noreferrer",children:"MetaMask"})}),(0,f.jsx)("p",{children:"A crypto wallet & gateway to blockchain apps"}),(0,f.jsxs)("div",{className:"justify-center card-actions",children:[(0,f.jsxs)("button",{type:"button",className:"btn btn-primary",disabled:w,onClick:function(){h(p),r(p)},children:[(0,f.jsxs)("div",{className:"px-2 py-2",children:[(v=p,v===y&&(0,f.jsx)("p",{className:"btn loading",children:"loading..."})),x(p)&&(0,f.jsx)("span",{role:"img","aria-label":"check",children:"\u2705"})]}),"Connect with MetaMask"]}),(u||l)&&x(p)&&(0,f.jsxs)(f.Fragment,{children:[!(!t||!i)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var e=new(new(T())(t.provider).eth.Contract)(j,k);e.methods.mintNFT(i).send({from:i}),e.methods.tokensOfOwnerBySize(i).call().then((function(e){console.log(e)}))},children:"Mint a pixel"}),(0,f.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){for(var e=new(T())(t.provider),n=parseInt(prompt("How much pixels ?","0")),a=new e.eth.Contract(j,k),r=0;r<n;r++)a.methods.mintNFT(i).send({from:i})},children:"Mint multiple pixel"})]}),(0,f.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){x(d)&&n.close(),s()},children:"Disconnect Metamask"})]})]})]})]})}),(0,f.jsx)("div",{className:"grid",children:(0,f.jsx)(N,{})})]})}var A=function(){return(0,f.jsx)(a.Ht,{getLibrary:_,children:(0,f.jsx)("div",{className:"container min-h-screen mx-auto",children:(0,f.jsx)(L,{})})})}},45301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(81580)}])},62859:function(){},75304:function(){},46601:function(){},89214:function(){},71922:function(){},2363:function(){},96419:function(){},56353:function(){},69386:function(){},31616:function(){},29120:function(){},46586:function(){},6567:function(){},69862:function(){},40964:function(){},71408:function(){},23646:function(){}},function(e){e.O(0,[482,611,774,888,179],(function(){return n=45301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);