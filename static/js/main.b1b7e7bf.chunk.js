(this.webpackJsonppixel3=this.webpackJsonppixel3||[]).push([[0],{341:function(e,t,n){},344:function(e,t,n){},357:function(e,t){},360:function(e,t){},362:function(e,t){},366:function(e,t){},391:function(e,t){},393:function(e,t){},402:function(e,t){},404:function(e,t){},414:function(e,t){},416:function(e,t){},530:function(e,t){},532:function(e,t){},539:function(e,t){},540:function(e,t){},558:function(e,t){},566:function(e,t){},573:function(e,t){},621:function(e,t){},716:function(e,t,n){},718:function(e,t,n){},719:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(36),r=n(35),s=n.n(r),c=n(39),u=(n(341),n(342),n(343),n(344),n(317)),l=n(318),p=new u.a({supportedChainIds:[1,3,4,5,42,56,88,89,97,137,1337,80001]}),d={1:Object({NODE_ENV:"production",PUBLIC_URL:"/Pixel3-front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NEXT_PUBLIC_RPC_URL_1,3:Object({NODE_ENV:"production",PUBLIC_URL:"/Pixel3-front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NEXT_PUBLIC_RPC_URL_3,4:Object({NODE_ENV:"production",PUBLIC_URL:"/Pixel3-front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NEXT_PUBLIC_RPC_URL_4,1337:"http://127.0.0.1:8545/"},y=new l.a({rpc:d,qrcode:!0}),b=n(728),m=n(78),f=n.n(m),g={warn:f.a.warn,debug:f.a.debug,info:f.a.info,error:f.a.error,trace:f.a.trace,setLevel:f.a.setLevel};var v=n(3),j=n.n(v),C=n(98),w=n(50),h=n(76),T=n.n(h),x="0xa67Ad061184F19C2f6d83aA5684144757d7EA136",O=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"newColor",type:"string"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"colorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"newLink",type:"string"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"linkChanged",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string[100]",name:"newStats",type:"string[100]"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"changeColorPack",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newLink",type:"string"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"changeLink",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllLinks",outputs:[{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getColor",outputs:[{internalType:"string[100]",name:"",type:"string[100]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"page",type:"uint256"}],name:"getColorsPaginated",outputs:[{internalType:"string[100][10]",name:"",type:"string[100][10]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getLink",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxAmountOfPixel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"}],name:"mintNFT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"parcelSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricePerMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"tokensOfOwnerBySize",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalColors",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"recipient",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],_=function(e,t){return new(new T.a(t.provider).eth.Contract)(O,x).methods.getColorsPaginated(e).call()},k=function(e,t){return new(new T.a(e.provider).eth.Contract)(O,x).methods.tokensOfOwnerBySize(t).call()},A={triedEager:!1,walletConnect:void 0,activatingConnector:void 0,board_size:10,square_size:10,get_colors:"idle",colors:[],update_colors:!1,colors_to_update:[],get_wallet:"idle",wallet_pixels:[]},S=Object(w.b)("walletConnection/getColors",function(){var e=Object(C.a)(j.a.mark((function e(t){var n,a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=t.library,e.next=3,_(n,a);case 3:return i=e.sent,e.abrupt("return",{response:i,page:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=Object(w.b)("walletConnection/getWalletPixels",function(){var e=Object(C.a)(j.a.mark((function e(t){var n,a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.library,a=t.account,e.next=3,k(n,a);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=Object(w.c)({name:"walletConnection",initialState:A,reducers:{setTriedEager:function(e,t){e.triedEager=t.payload},setActivatingConnector:function(e,t){e.activatingConnector=t},mNFT:function(e,t){new(new T.a(t.payload.library.provider).eth.Contract)(O,x).methods.mintNFT(t.payload.account).send({from:t.payload.account}).then(console.log)},pushChangedColors:function(e,t){new(new T.a(t.payload.library.provider).eth.Contract)(O,x).methods.changeColorPack(t.payload.colors,t.payload.pixel).send({from:t.payload.account}).then(console.log)},cUrl:function(e,t){new(new T.a(t.payload.library.provider).eth.Contract)(O,x).methods.changeUrls(t.payload.url,t.payload.pixels).send({from:t.payload.account}).then(console.log)},updateCachedColor:function(e,t){e.colors[t.payload.index]=t.payload.colors,e.update_colors=!e.update_colors},addColorToUpdate:function(e,t){e.colors_to_update[t.payload.index]=t.payload.colors},resetColorToUpdate:function(e,t){e.colors_to_update={}}},extraReducers:function(e){e.addCase(S.pending,(function(e){e.get_colors="loading"})).addCase(S.fulfilled,(function(e,t){var n=parseInt(t.payload.page)*e.square_size;t.payload.response.forEach((function(t,a){if(t){var i=n+a;e.colors[i]=t}})),"idle"===e.get_colors&&(e.get_colors="idle2")})).addCase(E.pending,(function(e){e.get_wallet="loading",e.wallet_pixels=[]})).addCase(E.fulfilled,(function(e,t){e.get_wallet="idle",e.wallet_pixels=t.payload}))}}),F=M.actions,N=F.setTriedEager,I=F.setActivatingConnector,P=F.mNFT,L=F.pushChangedColors,R=F.addColorToUpdate,z=F.resetColorToUpdate,U=F.updateCachedColor,H=M.reducer,B=n(49),W=n(113),D=n(324),q=(n(716),n(10)),K={setActivatingConnector:I,mNFT:P,updateColor:function(e,t,n){return function(a,i){var o=i().walletConnection.colors[e].map((function(e){return e}));o[t]=n,a(U({index:e,colors:o})),a(R({index:e,colors:o}))}}},V=Object(o.b)((function(e){return{colors:e.walletConnection.colors,square_size:e.walletConnection.square_size}}),K)((function(e){var t=e.colors[e.index],n=Object(a.useState)(void 0),i=Object(W.a)(n,2),o=i[0],r=i[1],s=Object(a.useState)("#ffffff"),c=Object(W.a)(s,2),u=c[0],l=c[1],p=function(t){l(t),e.updateColor(e.index,o,t.substring(1))},d=Array.from(Array(e.square_size).keys());return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("table",{cellSpacing:"0",className:"square",children:Object(q.jsx)("tbody",{children:d.map((function(n,a){return Object(q.jsx)("tr",{children:d.map((function(n,i){return Object(q.jsx)("td",{onClick:function(){r(a*e.square_size+i),l("#".concat(t[a*e.square_size+i]))},className:!0===e.editable?"my-pixel-edit":"my-pixel",style:{backgroundColor:"#".concat(t[a*e.square_size+i])}})}))},"row_"+a)}))})}),!0!==e.editable||void 0===o||Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(D.a,{color:u,onChange:p}),Object(q.jsx)(B.b,{children:Object(q.jsx)(B.c,{placeholder:"Normal input",className:"mb-2",value:u,onChange:p})})]})]})})),X={overflow:"hidden",width:"auto",height:"auto",backgroundColor:"white",boarderColor:"red",border:".0px solid black",padding:"0px"},J={setActivatingConnector:I,mNFT:P,addColorToUpdate:R,updateCachedColor:U},Y=Object(o.b)((function(e){return{colors:e.walletConnection.colors,wallet_pixels:e.walletConnection.wallet_pixels}}),J)((function(e){var t=Object(a.useState)(!1),n=Object(W.a)(t,2),i=n[0],o=n[1];return void 0===e.colors[e.index]?Object(q.jsx)(q.Fragment,{}):Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)("td",{style:X,children:[Object(q.jsx)("div",{onClick:function(){return!e.wallet_pixels.includes(e.index.toString())||o(!0)},children:Object(q.jsx)(V,{index:e.index})}),Object(q.jsxs)(B.d,{open:i,toggle:function(){return o(!1)},children:[Object(q.jsx)(B.f,{children:"Header"}),Object(q.jsx)(B.e,{children:Object(q.jsx)(V,{index:e.index,editable:!0})})]})]})})})),$=(n(718),{setActivatingConnector:I,mNFT:P,changeColors:function(e,t,n){return function(a,i){Object.keys(e).map((function(i){return a(L({pixel:i,colors:e[i],account:t,library:n}))})),a(z())}}}),G=Object(o.b)((function(e){return{colors_to_update:e.walletConnection.colors_to_update,colors:e.walletConnection.colors,board_size:e.walletConnection.board_size,square_size:e.walletConnection.board_size}}),$)((function(e){var t=Object(c.b)(),n=t.library,a=t.account,i=Array.from(Array(e.board_size).keys());return e.colors&&0===e.colors.length?Object(q.jsx)(q.Fragment,{}):Object(q.jsxs)(q.Fragment,{children:[" ",0===e.colors_to_update.length?Object(q.jsx)(q.Fragment,{}):Object(q.jsx)(B.a,{onClick:function(){e.changeColors(e.colors_to_update,a,n)},children:"You have non push colors "}),Object(q.jsx)("div",{children:Object(q.jsx)("table",{cellSpacing:"0",className:"base-grid",children:Object(q.jsx)("tbody",{children:i.map((function(t,n){return Object(q.jsx)("tr",{children:i.map((function(t,a){return n*e.board_size+a>=e.colors.length?Object(q.jsx)(q.Fragment,{}):Object(q.jsx)(Y,{index:n*e.board_size+a},n+"_"+a)}))},"row_"+n)}))})})})]})})),Q={setActivatingConnector:I,mNFT:P},Z=Object(o.b)((function(e){return{tried:e.walletConnection.tried,activatingConnector:e.walletConnection.activatingConnector}}),Q)((function(e){var t,n=Object(c.b)(),a=n.connector,i=n.library,o=n.account,r=n.activate,s=n.deactivate,u=n.active,l=n.error,d=function(e){return e===a},b=!e.tried||!!e.activatingConnector||d(p)||d(y)||!!l;return Object(q.jsxs)("div",{className:"justify-center card-actions",children:[Object(q.jsxs)("button",{type:"button",className:"btn btn-primary",disabled:b,onClick:function(){e.setActivatingConnector(p),r(p)},children:[Object(q.jsxs)("div",{className:"px-2 py-2",children:[(t=p,t===e.activatingConnector&&Object(q.jsx)("p",{className:"btn loading",children:"loading..."})),d(p)&&Object(q.jsx)("span",{role:"img","aria-label":"check",children:"\u2705"})]}),"Connect with MetaMask"]}),(u||l)&&d(p)&&Object(q.jsxs)(q.Fragment,{children:[!(!i||!o)&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.mNFT({library:i,account:o})},children:"Mint a pixel"}),Object(q.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){for(var t=parseInt(prompt("How much pixels ?","0")),n=0;n<t;n++)e.mNFT({library:i,account:o})},children:"Mint multiple pixel"})]}),Object(q.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){d(y)&&(console.log("disconnect"),a.close()),s()},children:"Disconnect Metamask"})]})]})}));var ee={setActivatingConnector:I,setTriedEager:N,mNFT:P,getColorsAsync:S,getWalletPixelsAsync:E},te=Object(o.b)((function(e){return{triedEager:e.walletConnection.tried,activatingConnector:e.walletConnection.activatingConnector}}),ee)((function(e){var t=Object(c.b)(),n=t.library,i=t.account;return Object(a.useEffect)((function(){n&&(e.getColorsAsync({page:0,library:n}),e.getColorsAsync({page:1,library:n}),e.getColorsAsync({page:2,library:n}),e.getColorsAsync({page:3,library:n}),e.getColorsAsync({page:4,library:n}),e.getColorsAsync({page:5,library:n}),e.getColorsAsync({page:6,library:n}),e.getColorsAsync({page:7,library:n}),e.getColorsAsync({page:8,library:n}),e.getColorsAsync({page:9,library:n}),e.getWalletPixelsAsync({library:n,account:i}))}),[n]),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(c.b)(),n=t.active,i=t.error,o=t.activate;Object(a.useEffect)((function(){var t=window.ethereum;if(t&&t.on&&!n&&!i&&!e){var a=function(){g.warn("Handling 'connect' event"),o(p)},r=function(e){g.warn("Handling 'chainChanged' event with payload",e),o(p)},s=function(e){g.warn("Handling 'accountsChanged' event with payload",e),e.length>0&&o(p)},c=function(e){g.warn("Handling 'networkChanged' event with payload",e),o(p)};return t.on("connect",a),t.on("chainChanged",r),t.on("accountsChanged",s),t.on("networkChanged",c),function(){t.removeListener&&(t.removeListener("connect",a),t.removeListener("chainChanged",r),t.removeListener("accountsChanged",s),t.removeListener("networkChanged",c))}}}),[n,i,e,o])}(!e.triedEager||!!e.activatingConnector),function(e,t){var n=Object(c.b)(),i=n.activate,o=n.active;Object(a.useEffect)((function(){p.isAuthorized().then((function(e){e?i(p,void 0,!0).catch((function(){t(!0)})):t(!0)}))}),[]),Object(a.useEffect)((function(){!e&&o&&t(!0)}),[e,o])}(e.triedEager,e.setTriedEager),Object(q.jsxs)("div",{className:"App",children:[Object(q.jsx)(Z,{}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)(G,{wait:3e3})]})}));function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var ae=Object(w.b)("counter/fetchCount",function(){var e=Object(C.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ie=Object(w.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(ae.pending,(function(e){e.status="loading"})).addCase(ae.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),oe=ie.actions,re=(oe.increment,oe.decrement,oe.incrementByAmount,ie.reducer),se=Object(w.a)({reducer:{counter:re,walletConnection:H}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(q.jsx)(i.a.StrictMode,{children:Object(q.jsx)(o.a,{store:se,children:Object(q.jsx)(c.a,{getLibrary:function(e){var t=new b.a(e);return t.pollingInterval=12e3,t},children:Object(q.jsx)(te,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[719,1,2]]]);
//# sourceMappingURL=main.b1b7e7bf.chunk.js.map